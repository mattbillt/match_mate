<div style="padding: 20px;">
  <%# <h1 style="font-family: 'Black Ops One'; color: dark; padding: 20px;">Games</h1> %>


</div>


<section class="text-newwhite pt-3 pb-1 section">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-3 d-flex align-items-center justify-content-center mb-3">
        <h3 class="mob-md-0" style="margin-bottom: 0; font-family: 'Black Ops One', cursive; color: #333333; font-weight: 300; font-size: 32px; text-align: center;">
          Find a match
        </h3>
      </div>

      <div class="col-md-3 text-center mb-3" style="padding-left: 10px;">
        <%= form_with url: games_path, method: :get, class: "d-flex" do %>
        <%= text_field_tag :query,
          params[:query],
          class: "form-control",
          placeholder: "Type a City name"
        %>
        <%= text_field_tag :date,
              params[:date],
              class: "form-control",
              data: { controller: "datepicker"} ,
              placeholder: "Type a date name"
            %>
        <%= submit_tag "Search", name: "", class: "btn btn-primary" %>
        <% end %>
      </div>
      <div class="col-md-3 text-center mb-3">



      </div>
    </div>
  </div>
    <%# <button class="btn btn-primary m1-2" id="useMyLocation"><i class="fas fa-map-marker-alt"></i></button> %>
</section>

<div class="row">
  <% if params[:query] %>
    <% @games.each do |game| %>
    <div class="col-sm-4">
        <div class="card bg-newwhite text-primary border-primary shadow m-3" style="border-radius: 15px; height: 200px; width: 100%;">
            <div class="card-body d-flex flex-column justify-content-center align-items-center">
                <%= image_tag("#{@game.home_team.emblem}")%>
            <p><%= "#{game.home_team.name} vs #{game.away_team.name}"%></p>
            <p><%= "Location: #{game.city}, Date: #{game.date}"%></p>
            <p><%= link_to "View Game", game_path(game), class: "btn btn-warning rounded-pill shadow"%></p>
            </div>
      </div>
    </div>
  <% end %>
</div>

<% else %>
 <div class="row">
    <% @games.each do |game| %>
      <div class="col-sm-4">
        <div class="card bg-newwhite text-primary border-primary shadow m-3" style="border-radius: 15px; height: 200px; width: 100%;">
          <div class="card-body d-flex flex-column justify-content-center align-items-center">
            <p><%= "#{game.home_team.name} vs #{game.away_team.name}"%></p>
            <p><%= "#{game.city}, #{game.date}"%></p>
            <p><%= link_to "View Game", game_path(game), class: "btn btn-warning rounded-pill shadow"%></p>
          </div>
        </div>
      </div>
    <% end %>
  </div>
<% end %>



<%= link_to raw('<i class="fa fa-arrow-left text-warning" style="font-size: 2em; margin: 10px; text-shadow: 1px 1px 2px #888888;"></i>'), :back %>

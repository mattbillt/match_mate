
<section class="bg-primary text-light text-center">
  <div class="container" style="display: grid; grid-template-columns: 1fr 1fr;">
    <div class="txt" style="width: 100%; max-width: 600px; margin: 0 auto; display: flex; flex-direction: column; justify-content: center;">
      <h2 class="mb-3">
        <span class="text-white" style="font-weight: bold;">Dive into Brazilâ€™s fan scene with </span>
        <span style="color: #ffc107; font-family: 'Black Ops One', cursive;">Match Mate</span>
      </h2>
      <p class="small my-4" style="font-weight: 200;">
        Chat, make friends, and plan match days together. Local fans can help you score tickets with tips and sharing the best deals. Sign up and jump into the action! ðŸ‡§ðŸ‡·
      </p>

      <div class="d-flex align-items-center justify-content-center mb-3">
        <button class="btn btn-primary btn-lg btn-black-ops">Sign up</button>
      </div>
    </div>

    <div class="d-flex align-items-center justify-content-center">
      <img class="img-fluid" src="https://i.imgur.com/cHGosIr.png" alt="Football supporters" style="width: 100%; height: auto; max-height: 80vh; object-fit: cover;">
    </div>
  </div>
</section>

<!-- Search Team and Date -->
<section class="text-newwhite pt-3 pb-1 section">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-3 d-flex align-items-center justify-content-center mb-3">
        <h3 class="mob-md-0" style="margin-bottom: 0; font-family: 'Black Ops One', cursive; color: #333333; font-weight: 300; font-size: 32px; text-align: center;">
          Find a match
        </h3>
      </div>
      <div class="col-md-3 text-center mb-3" style="padding-left: 10px;">
        <label for="teamSelect" class="visually-hidden">Select Team</label>
        <select class="form-select" id="teamSelect" aria-label="Select Team">
          <option selected>Teams</option>
          <option value="1">One</option>
          <option value="2">Two</option>
          <option value="3">Three</option>
        </select>
      </div>
      <div class="col-md-3 text-center mb-3">
        <input type="text" class="form-control" id="datePicker" placeholder="Select Date Range">
      </div>
      <div class="col-md-3 d-flex justify-content-between mb-3">
        <div class="flex-grow-1 mr-2">
          <label for="locationSelect" class="visually-hidden">Select Location</label>
          <select class="form-select" id="locationSelect" aria-label="Select Location">
            <option selected>Locations</option>
            <option value="1">Location One</option>
            <option value="2">Location Two</option>
            <option value="3">Location Three</option>
          </select>
        </div>
        <button class="btn btn-primary m1-2" id="useMyLocation"><i class="fas fa-map-marker-alt"></i></button>
      </div>

    </div>
  </div>
</section>

<section>
  <div class="container">
    <h4 style="margin-top: 50px; text-align: center;">Today's Matches</h4>
  </div>
  <div class="p-5">
    <div class="container">
      <div class="row text-center">
        <% @games.first(5).each do |game| %>
          <div class="col-md-4 mb-4">
            <div class="card bg-newwhite text-primary border-primary shadow" style="border-radius: 15px; height: 200px; width: 100%;">
              <div class="card-body d-flex flex-column justify-content-center align-items-center">
                <p><%= "#{game.home_team.name} vs #{game.away_team.name}"%></p>
                <p><%= "#{game.city}, #{game.date}"%></p>
                <p><%= link_to "View Game", game_path(game), class: "btn btn-warning rounded-pill shadow"%></p>
                 </div>
            </div>
          </div>
        <% end %>
        <div class="col-md-4 mb-4">
          <div class="card bg-newwhite text-primary border-primary shadow" style="border-radius: 15px; height: 200px; width: 100%;">
           <div class="card-body d-flex flex-column justify-content-center align-items-center">
    <h5>Checkout all available matches.</h5>
    <br> <!-- This will add a gap between the text and the button -->
    <p><%= link_to "Explore", games_path, class: "btn btn-primary rounded-pill shadow", style: "color: F2F3F4;"%></p>
</div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>


<!-- Include necessary scripts for jQuery, Select2, and flatpickr -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr@4.6.9/dist/flatpickr.min.js"></script>

<script>
  // Initialize Select2
  $(document).ready(function() {
    $('#teamSelect').select2();
    $('#locationSelect').select2();
  });

  // Initialize Flatpickr with range selection by default
  document.addEventListener('DOMContentLoaded', function () {
    flatpickr("#datePicker", {
      mode: "range",
      enableTime: false,
      dateFormat: "Y-m-d",
    });
  });

  // Use Geolocation API to get the user's current location
  document.getElementById('useMyLocation').addEventListener('click', function() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(function(position) {
        var lat = position.coords.latitude;
        var lon = position.coords.longitude;
        // You can use the latitude and longitude to search for matches near the user's location
        console.log('Latitude: ' + lat + ', Longitude: ' + lon);
      });
    } else {
      console.log('Geolocation is not supported by this browser.');
    }
  });
</script>
